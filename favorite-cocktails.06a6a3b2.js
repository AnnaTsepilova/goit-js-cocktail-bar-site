!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=n),n("iE7OH").register(JSON.parse('{"bN78u":"favorite-cocktails.06a6a3b2.js","ee16w":"sprite.e06f4cf7.svg","4lh52":"index.87289d74.js"}'));var s,a=n("4Nugj"),o=n("gJIrg"),l=n("bBd4F");a=n("4Nugj"),o=n("gJIrg");s=n("aNJCr").getBundleURL("bN78u")+n("iE7OH").resolve("ee16w");const c=new(0,o.CocktailsApi);document.querySelector(".btn-add_and_remove");class d{addCocktailById(e){c.getCocktailById(e).then((function(e){this.addCocktail(e)}))}addCocktail(e){if(!e.idDrink)return;let t=this.getAllCocktails();t||(t=[]),t.filter((t=>t.idDrink===e.idDrink)).length||(t.push(e),localStorage.setItem(d.favoriteCocktailsKey,JSON.stringify(t)))}removeCocktailById(e){if(!e)return;let t=this.getAllCocktails();if(t){for(let i in t)t[i].idDrink==e&&t.splice(i,1);localStorage.setItem(d.favoriteCocktailsKey,JSON.stringify(t))}}getAllCocktails(){return JSON.parse(localStorage.getItem(d.favoriteCocktailsKey))??[]}async addIngredientByName(e){const t=this.getAllIngredients();if(t&&t.find((t=>t.strIngredient===e)))return;const i=await c.getIngredientByName(e),r=i&&i.ingredients.find((t=>t.strIngredient===e));r&&(t.push(r),this.saveIngridients(t))}removeIngredientByName(e){const t=this.getAllIngredients().filter((t=>t.strIngredient!==e));this.saveIngridients(t)}renderAllCocktails(t){if(t)return t.map((t=>`\n        <li class="list-favorite__item" id="c_${t.idDrink}">\n          <img class="list-favorite_img" src="${t.strDrinkThumb}" alt="${t.strDrink}" />\n          <h3 class="list-favorite_coctail">${t.strDrink}</h3>\n          <div class="list-favorite_btn">\n            <button class="btn-learn_more">Learn more</button>\n            <button class="btn-add_and_remove" data-cocktail-id="${t.idDrink}">\n              Remove\n              <svg class="icon-heart__svg" width="22" height="19">\n                <use href="${e(s)}#icon-heart"/>\n              </svg>\n            </button>\n          </div>\n        </li>`)).join("")}getAllIngredients(){return JSON.parse(localStorage.getItem(d.favoriteIngridientsKey))??[]}saveIngridients(e){localStorage.setItem(d.favoriteIngridientsKey,JSON.stringify(e))}renderAllIngredient(e){return e.map((e=>{e.strIngredient,e.strDescription})).join("")}searchByCocktailName(e){e.preventDefault();const t=e.target.query.value,i=this.getAllCocktails();a.refs.cocktailsList.innerHTML="";const r=i.reduce(((e,i)=>i.strDrink.toLowerCase().includes(t.toLowerCase())?[...e,i]:[...e]),[]);a.refs.cocktailsList.insertAdjacentHTML("beforeend",this.renderAllCocktails(r))}searchByIngredientsName(e){e.preventDefault();const t=e.target.query.value,i=this.getAllIngredients();a.refs.ingridientsList.innerHTML="";const r=i.reduce(((e,i)=>i.strIngredient.toLowerCase().includes(t.toLowerCase())?[...e,i]:[...e]),[]);a.refs.ingridientsList.insertAdjacentHTML("beforeend",this.renderAllIngredient(r))}isCoctailInFavorites(e){return!!this.getAllCocktails().find((t=>t.idDrink===e))}constructor(){}}(0,l.default)(d,"favoriteCocktailsKey","favorite-cocktails"),(0,l.default)(d,"favoriteIngridientsKey","favorite-ingridient");const g=new d;a.refs.searchFavorite.addEventListener("submit",(function(e){g.searchByCocktailName(e)})),n("bhhwi"),n("bjNOr"),n("gjDBM");const f=new(0,o.CocktailsApi),u=new d;f.getCocktailsBySymbol("b").then((function(e){let t=0;for(cocktail of e.drinks)if(u.addCocktail(cocktail),t++,t>=4)break})),u.removeCocktailById(11e3);const k=u.getAllCocktails();a.refs.cocktailsList.innerHTML=u.renderAllCocktails(k);const v=document.querySelectorAll(".btn-add_and_remove");for(let e of v)e.addEventListener("click",h);function h(e){e.preventDefault(),u.removeCocktailById(e.target.dataset.cocktailId);document.querySelector("#c_"+e.target.dataset.cocktailId).remove()}}();
//# sourceMappingURL=favorite-cocktails.06a6a3b2.js.map
